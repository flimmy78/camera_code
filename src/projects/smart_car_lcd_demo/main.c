/******************** (C) COPYRIGHT 2012-2013 岱默科技 DEMOK*********
 * 文件名         ： main.c
 * 描述           ： 主函数通用模板
 *
 * 实验平台       ： 岱默科技DEMOK Kinetis开发板
 * 作者           ： 岱默科技DEMOK Kinetis开发小组

 * 淘宝店铺       ： http://shop60443799.taobao.com/
 * 技术交流邮箱   ： 1030923155@qq.com 
 * 技术交流QQ群   ： 103360642

* 最后修订时间    ：2012-11-7
* 修订内容        ：无
**********************************************************************************/

#include "common.h"
#include "include.h"

/*************************************************************************
*                             岱默科技DEMOK Kinetis开发小组
*                                  OV7620图像采集实验
*
*  实验说明：通过Kinetis的DMA和EXTI驱动OV7640摄像头
*
*  实验操作：Kinetis与OV7620接线方式：
*                       Kinetis            OV7640
*                       PTD[0:7]           Y[0:7]
*                        PTC14              PCLK
*                        PTC16              HREF
*                        PTC18              VSYN
*                        PTC7               SCL
*                        PTC8               SDA
*                        GND                GND
*             Kinetis与串口模块接线方式：
*                   PTC3接RX    PTC4接TX   默认串口1 波特率115200
*            OV7640分辨率输出320*240
*
*
*  实验效果：在DEMOK提供的DemokTool上位机中可以看到采集到的图像
*
*  实验目的：学习DMA OV7640时序
*
*  修改时间：2012-11-14
*
*  备    注：Kinetis是3.3V供电，OV7640是3.3V供电，IO兼容
*
*  说    明：DEMOK原创 仅供参考 请勿拷贝
*************************************************************************/

  u8 image[40][40] =
            {
                  {158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158},
                  {158,158,158,158,158,158,158,98,158,98,158,98,158,98,158,98,158,98,158,98,158,98,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158,158},
                  {158,158,158,158,158,158,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158,158,158,158,158,158,158,158,158,158,158,158,158},
                  {158,158,158,158,158,158,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158,158,158,158,158,158,158,158,158,158,158},
                  {158,158,158,158,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158,158,158,158,158,158,158,158},
                  {158,158,158,158,158,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158,158,158,158,158,158,158,158,158},
                  {158,158,158,158,158,158,158,98,98,98,98,98,98,98,98,98,158,158,158,98,98,158,158,98,98,98,98,98,98,98,98,98,158,158,158,158,158,158,158,158},
                  {158,158,158,158,158,158,158,158,98,98,98,98,98,158,158,158,158,98,98,98,98,158,158,158,158,98,98,98,98,98,98,98,158,158,158,158,158,158,158,158},
                  
                  {158,158,158,158,158,158,158,158,98,98,98,158,158,158,158,158,98,98,98,158,98,98,158,158,158,158,158,98,98,98,98,98,98,98,158,158,158,158,158,158},
                  {158,158,158,158,158,158,158,158,98,158,158,158,158,158,158,98,98,98,158,158,158,98,98,158,158,158,158,158,98,98,98,98,98,98,158,158,158,158,158,158},
                  {158,158,158,158,158,158,158,98,98,158,158,158,158,158,98,98,98,158,158,158,158,158,98,158,158,158,158,158,158,98,98,98,98,98,98,158,158,158,158,158},
                  {158,158,158,158,158,158,158,98,98,98,158,158,158,98,98,98,158,98,158,158,158,158,158,98,158,158,158,158,158,158,98,98,98,98,98,98,158,158,158,158},
                  {158,158,158,158,158,158,98,98,98,98,158,158,158,98,98,158,158,158,98,158,158,158,158,158,158,158,158,158,158,158,98,98,98,98,98,98,98,158,158,158},
                  {158,158,158,158,158,158,98,98,158,158,98,98,98,158,158,158,158,158,98,158,158,158,158,158,158,158,158,158,158,158,98,98,98,98,98,98,98,158,158,158},
                  {158,158,158,158,158,98,98,158,158,158,98,98,98,158,158,158,158,158,98,158,158,158,158,158,158,158,158,158,158,158,98,98,98,98,98,98,98,98,158,158},
                  {158,158,158,158,158,158,98,98,158,158,98,98,98,98,98,158,158,158,98,158,158,158,158,158,158,158,158,158,158,158,98,98,98,98,98,98,98,98,158,158},
                  
                  {158,158,158,158,158,158,98,98,98,158,98,98,98,98,98,158,158,158,98,158,158,158,158,158,158,158,158,158,158,158,98,98,98,98,98,98,98,98,98,158},
                  {158,158,158,158,98,98,158,158,98,98,98,98,98,98,158,158,158,98,158,158,158,158,158,158,158,158,158,158,158,158,98,98,98,98,98,98,98,98,158,158},
                  {158,158,158,158,98,158,158,158,158,98,98,98,158,158,158,158,98,98,158,158,158,158,158,158,158,158,158,158,158,158,98,98,158,158,158,98,98,98,98,158},
                  {158,158,158,98,158,158,158,158,158,158,158,98,98,98,98,98,98,98,98,98,98,158,158,158,158,158,158,158,158,98,98,158,158,158,158,98,98,98,98,158},
                  {158,158,158,98,158,158,158,158,158,158,158,158,158,98,98,98,158,158,158,158,158,98,98,158,158,158,158,158,158,98,158,158,158,158,158,98,98,98,98,158},
                  {158,158,98,158,158,158,158,158,158,158,158,158,98,98,158,158,158,158,158,158,158,158,158,158,158,158,158,158,98,98,98,98,98,158,158,158,98,98,98,158},
                  {158,158,98,98,158,158,158,158,158,158,158,158,98,158,158,158,158,158,158,158,158,158,158,158,158,158,158,98,98,98,98,98,98,158,158,158,98,98,98,158},
                  {158,158,98,98,158,158,158,158,158,158,158,158,98,158,158,158,158,98,158,158,158,158,158,158,158,158,98,98,98,98,98,158,158,158,158,98,98,98,98,158},
                  
                  {158,158,98,98,98,158,158,98,158,158,98,158,98,158,158,158,98,98,98,98,158,158,158,158,158,158,98,98,98,98,98,158,158,158,158,98,98,98,98,158},
                  {158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158,158,158,98,98,98,98,98,98,158,158,158,158,158,98,98,98,98,158},
                  {158,98,98,98,98,98,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158,158,98,98,98,98,98,158},
                  {98,98,98,98,98,98,158,158,158,98,98,98,98,98,98,158,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158},
                  {98,98,98,98,98,98,158,158,158,98,158,98,158,158,98,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158},
                  {98,98,98,98,98,98,98,98,158,98,158,98,98,98,98,158,98,98,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158},
                  {98,98,98,98,98,98,158,98,98,98,98,98,98,98,98,98,98,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158},
                  {98,98,98,98,98,98,98,158,98,98,158,98,158,158,98,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158},
                  
                  {158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158},
                  {158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158},
                  {158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,98,98},
                  {158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,98,98,98,98,98,158,98,158,98},
                  {158,158,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,158,98,98,158,98,158,98,158,98},
                  {158,158,158,158,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,158,98,98,158,98,158,98,158,98,98},
                  {158,158,158,98,98,98,98,98,98,98,98,98,98,98,158,98,98,158,158,98,158,158,98,98,158,98,98,158,158,158,98,98,98,98,158,98,158,98,158,98},
                  {158,158,158,98,98,158,98,98,158,98,98,158,98,98,158,98,158,158,158,98,158,158,98,158,158,98,158,158,158,98,98,158,98,98,98,98,158,98,158,98}  
            };

void main()
{
    u8 i,j;
    
    LCD_init();
    LCD_clear();
    
//    for(i=0;i<40;i++)
//    {
//        for(j=0;j<40;j++)
//        {
//            image[i][j] = 0;
//        }
//    }
//    for(i=0;(i<40)&&(i%5==0);i++)
//    {
//        for(j=0;j<40;j++)
//        {
//            image[i][j] = 100;
//        }
//    }
    
    LCD_draw_pixel(image,40,40,100,0,0);
}